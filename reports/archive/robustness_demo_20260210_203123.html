<!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <meta http-equiv="refresh" content="900">  <!-- Auto-refresh every 15 min -->
            <title>Nifty Stock Analyser - 2026-02-10 20:31:23</title>
            <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
            <style>
                ...existing code...

        # Remove broken multi-line HTML string and use only incremental concatenation for table rows
        .risk-matrix { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 12px; margin: 16px 0; }
        .risk-card { background: white; border: 2px solid #e2e8f0; border-radius: 10px; padding: 16px; text-align: center; transition: all 0.2s; box-shadow: 0 2px 6px rgba(0,0,0,0.05); }
        .risk-card:hover { border-color: #667eea; box-shadow: 0 6px 16px rgba(102, 126, 234, 0.15); transform: translateY(-3px); }
        .risk-symbol { font-weight: 700; font-size: 16px; font-family: 'JetBrains Mono', monospace; color: #2d3748; }
        .risk-metric { font-size: 11px; color: #718096; margin-top: 4px; }
        .risk-rr { font-weight: 600; color: #11998e; font-family: 'JetBrains Mono', monospace; }
        
        /* TOP PICKS SECTION */
        .top-picks-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin: 16px 0;
        }
        
        .picks-card {
            background: white;
            border-radius: 8px;
            padding: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border-left: 5px solid;
        }
        
        .picks-card.bullish {
            border-left-color: #38ef7d;
            background: linear-gradient(to right, rgba(56, 239, 125, 0.03), transparent);
        }
        
        .picks-card.bearish {
            border-left-color: #ff6a00;
            background: linear-gradient(to right, rgba(255, 106, 0, 0.03), transparent);
        }
        
        .picks-card h4 {
            margin: 0 0 12px 0;
            color: #2d3748;
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .pick-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #edf2f7;
            font-size: 13px;
        }
        
        .pick-item:last-child {
            border-bottom: none;
        }
        
        .pick-symbol {
            font-weight: 600;
            color: #2d3748;
            font-family: 'JetBrains Mono', monospace;
            min-width: 70px;
        }
        
        .pick-score {
            font-weight: 700;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-family: 'JetBrains Mono', monospace;
        }
        
        .pick-score.bull {
            background: #c6f6d5;
            color: #22543d;
        }
        
        .pick-score.bear {
            background: #fed7d7;
            color: #742a2a;
        }
        
        .pick-details {
            color: #718096;
            font-size: 12px;
            text-align: right;
        }
        
        .sector-heatmap {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 12px;
            margin: 16px 0;
        }
        
        .sector-card {
            padding: 16px;
            border-radius: 10px;
            text-align: center;
            transition: all 0.2s ease;
            cursor: default;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }
        
        .sector-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.15);
        }
        
        .sector-name {
            font-weight: 600;
            font-size: 13px;
            margin-bottom: 8px;
            color: #2d3748;
        }
        
        .sector-score {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 4px;
            font-family: 'JetBrains Mono', monospace;
        }
        
        .sector-count {
            font-size: 12px;
            opacity: 0.85;
            line-height: 1.4;
        }
        
        /* MAIN TABLE STYLES */
        #screener-wrapper { overflow-x: auto; background: white; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); margin-bottom: 24px; }
        table { border-collapse: collapse; width: 100%; font-size: 11px; background-color: white; box-shadow: none; }
        th, td { border: 1px solid #e8eef7; padding: 8px 6px; text-align: left; }
        th { background: #f5f8fc; cursor: pointer; position: relative; font-weight: 600; color: #2d3748; font-family: 'Inter', sans-serif; white-space: nowrap; }
        th.sort-asc::after { content: " ▲"; font-size: 9px; color: #667eea; }
        th.sort-desc::after { content: " ▼"; font-size: 9px; color: #667eea; }
        tr:hover { background-color: #f9fbfd; }
        td { font-family: 'Inter', sans-serif; color: #4a5568; }
        td.mono { font-family: 'JetBrains Mono', monospace; font-size: 10px; }
        
        .badge { display: inline-block; padding: 3px 6px; border-radius: 3px; font-size: 10px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.3px; white-space: nowrap; }
        .tag-bear { background: #fed7d7; color: #742a2a; }
        .tag-bull { background: #c6f6d5; color: #22543d; }
        .tag-neutral { background: #e2e8f0; color: #2d3748; }
        
        .controls { margin-bottom: 12px; padding: 12px; background: white; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.05); }
        .search { padding: 8px 10px; border: 1px solid #e2e8f0; border-radius: 6px; width: 250px; font-family: 'Inter', sans-serif; font-size: 12px; transition: border-color 0.3s; }
        .search:focus { outline: none; border-color: #667eea; background: #f9fbfd; }
        .control-group { margin: 6px 0; display: inline-block; margin-right: 12px; }
        input[type="range"] { vertical-align: middle; margin: 0 6px; height: 4px; }
        label { margin-right: 6px; font-size: 12px; font-weight: 500; color: #2d3748; }
        select { padding: 6px 8px; border: 1px solid #e2e8f0; border-radius: 6px; font-family: 'Inter', sans-serif; font-size: 12px; cursor: pointer; transition: border-color 0.3s; }
        select:focus { outline: none; border-color: #667eea; background: #f7fafc; }
        
        .no-data { color: #a0aec0; font-style: italic; margin-top: 15px; padding: 10px; }
        .score { font-weight: 700; border-radius: 4px; font-family: 'JetBrains Mono', monospace; }
        .grade-a { background-color: #11998e; color: white; }
        .grade-b { background-color: #38ef7d; color: #22543d; }
        .grade-c { background-color: #f6ad55; color: white; }
        .grade-d { background-color: #fc8181; color: white; }
        .grade-f { background-color: #f56565; color: white; }
        
        .trend-strong-bull { background-color: #11998e; color: white; }
        .trend-bull { background-color: #38ef7d; color: #22543d; }
        .trend-neutral { background-color: #cbd5e0; color: #2d3748; }
        .trend-bear { background-color: #fc8181; color: white; }
        .trend-strong-bear { background-color: #f56565; color: white; }
        
        .regime-trending { background-color: #4299e1; color: white; }
        .regime-ranging { background-color: #a0aec0; color: white; }
        .regime-volatile { background-color: #f56565; color: white; }
        .regime-quiet { background-color: #cbd5e0; color: #2d3748; }
        
        /* Strategy Badge Styles */
        .long-call { background-color: #11998e; color: white; font-weight: 600; }
        .bull-call { background-color: #38ef7d; color: #22543d; font-weight: 600; }
        .lcall-spread { background-color: #81e6d9; color: #234e52; font-weight: 600; }
        .atm-call { background-color: #4299e1; color: white; font-weight: 600; }
        .call-diagonal { background-color: #63b3ed; color: white; font-weight: 600; }
        .call-calendar { background-color: #90cdf4; color: #2c5282; font-weight: 600; }
        
        .long-put { background-color: #f56565; color: white; font-weight: 600; }
        .bear-put { background-color: #fc8181; color: white; font-weight: 600; }
        .put-spread { background-color: #ed8936; color: white; font-weight: 600; }
        
        /* Support/Resistance Styles */
        .method-sr { background-color: #4299e1; color: white; font-weight: 600; padding: 4px 8px; border-radius: 4px; font-size: 11px; }
        .method-atr { background-color: #a0aec0; color: white; font-weight: 600; padding: 4px 8px; border-radius: 4px; font-size: 11px; }
        .level-support { color: #22863a; font-weight: 600; background-color: #f0fff4; padding: 4px 6px; border-radius: 3px; }
        .level-resistance { color: #cb2431; font-weight: 600; background-color: #fff0f0; padding: 4px 6px; border-radius: 3px; }
        
        /* Risk Zone Styles */
        .risk-normal { background-color: #c6f6d5; color: #22543d; font-weight: 600; padding: 4px 8px; border-radius: 4px; font-size: 11px; }
        .risk-medium { background-color: #feebc8; color: #7c2d12; font-weight: 600; padding: 4px 8px; border-radius: 4px; font-size: 11px; }
        .risk-high { background-color: #fed7d7; color: #742a2a; font-weight: 600; padding: 4px 8px; border-radius: 4px; font-size: 11px; }
        .zone-label { font-size: 10px; opacity: 0.8; }
        .atm-put { background-color: #f6ad55; color: white; font-weight: 600; }
        .put-diagonal { background-color: #fbd38d; color: #7c2d12; font-weight: 600; }
        .put-calendar { background-color: #feebc8; color: #7c2d12; font-weight: 600; }
        
        .iron-condor { background-color: #9f7aea; color: white; font-weight: 600; }
        .straddle { background-color: #b794f6; color: white; font-weight: 600; }
        .strangle { background-color: #d6bcfa; color: #44337a; font-weight: 600; }
        .covered-call { background-color: #ecc94b; color: #7c2d12; font-weight: 600; }
        .neutral-strategy { background-color: #e2e8f0; color: #2d3748; font-weight: 600; }
        
        .strategy-trending-short { background-color: #f56565; color: white; font-weight: 600; }
        .strategy-trending-long { background-color: #11998e; color: white; font-weight: 600; }
        .strategy-pullback-short { background-color: #f6ad55; color: white; }
        .strategy-pullback-long { background-color: #4299e1; color: white; }
        .strategy-fade { background-color: #9f7aea; color: white; }
        .strategy-range { background-color: #38b6a8; color: white; }
        .strategy-breakout { background-color: #ed8936; color: white; }
        .strategy-swing-short { background-color: #c53030; color: white; }
        .strategy-swing-long { background-color: #0f7938; color: white; }
        .strategy-avoid { background-color: #4a5568; color: white; font-weight: 600; }
        .strategy-wait { background-color: #a0aec0; color: white; }
        .strategy-watch { background-color: #718096; color: white; }
        .strategy-neutral { background-color: #cbd5e0; color: #2d3748; }
        
        /* Tooltip styling */
        .tooltip-trigger {
            position: relative;
            cursor: help;
            border-bottom: 2px dotted #667eea;
            transition: all 0.2s ease;
        }
        
        .tooltip-trigger:hover {
            background-color: rgba(102, 126, 234, 0.08);
        }
        
        .tooltip-trigger .tooltiptext {
            visibility: hidden;
            background-color: #2d3748;
            color: white;
            text-align: left;
            border-radius: 6px;
            padding: 12px 14px;
            position: absolute;
            z-index: 1000;
            font-size: 12px;
            font-weight: 400;
            white-space: normal;
            text-decoration: none;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
            border: 1px solid #4a5568;
            bottom: 125%;
            transition: visibility 0.2s ease;
            pointer-events: none;
            line-height: 1.5;
            font-family: 'Inter', sans-serif;
        }
        
        .tooltip-trigger:hover .tooltiptext {
            visibility: visible;
        }
        
        .tooltip-trigger .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 12px;
            margin-left: -6px;
            border-width: 6px;
            border-style: solid;
            border-color: #2d3748 transparent transparent transparent;
        }
        
        .align-strong { color: #11998e; font-weight: 700; }
        .align-medium { color: #f6ad55; font-weight: 700; }
        .align-weak { color: #f56565; font-weight: 700; }
        
        .tooltip { position: relative; cursor: help; z-index: 10; display: inline-block; }
        .tooltip .tooltiptext { visibility: hidden; background-color: #2d3748; color: #fff; text-align: left; padding: 10px 12px; border-radius: 6px; position: absolute; z-index: 1000; bottom: 125%; left: 50%; transform: translateX(-50%); white-space: normal; opacity: 0; transition: opacity 0.3s; font-size: 11px; line-height: 1.4; font-family: 'Inter', sans-serif; max-width: 200px; pointer-events: none; }
        .tooltip .tooltiptext::after { content: ""; position: absolute; top: 100%; left: 50%; margin-left: -5px; border-width: 5px; border-style: solid; border-color: #2d3748 transparent transparent transparent; }
        .tooltip:hover .tooltiptext { visibility: visible; opacity: 1; }
        
        .quick-actions { background: white; border-radius: 8px; padding: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); margin-top: 20px; }
        .action-legend { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 12px; margin: 12px 0; }
        .legend-item { display: flex; align-items: center; gap: 8px; font-size: 12px; }
        .legend-dot { width: 12px; height: 12px; border-radius: 2px; }
        .legend-dot.bull { background: #38ef7d; }
        .legend-dot.bear { background: #ff6a00; }
        .legend-dot.neutral { background: #cbd5e0; }
    </style>
</head>
<body>
    <div class="container">
        <h2>Nifty Stock Analyser</h2>
        <p class="info"><strong>Universe:</strong> NIFTY50 | <strong>Mode:</strong> intraday | <strong>Stocks Analyzed:</strong> 4 | <strong>No Data:</strong> 0 | <strong>Generated:</strong> 2026-02-10 20:31:23</p>

    
    <!-- SCREENER TABLE SECTION (FIRST) -->
    <h3>Full Screener Results</h3>
    <div class="controls">
        <div class="control-group">
            <input class="search" id="search" placeholder="Filter symbols or text..." onkeyup="filterTable()" />
        </div>
        <div class="control-group">
            <label for="sectorFilter">Sector:</label>
            <select id="sectorFilter" onchange="filterTable()">
                <option value="all">All</option>
            </select>
        </div>
        <div class="control-group">
            <label><input type="checkbox" id="enableMinConf" onchange="filterTable()" /> Min Conf%</label>
            <input type="range" id="minConf" min="0" max="100" step="1" value="0" oninput="document.getElementById('minConfVal').innerText=this.value;filterTable()" />
            <span id="minConfVal">0</span>
        </div>
        <div class="control-group">
            <label><input type="checkbox" id="enableMinScore" checked onchange="filterTable()" /> Min |Score|</label>
            <input type="range" id="minScore" min="0" max="1" step="0.01" value="0.35" oninput="document.getElementById('minScoreVal').innerText=this.value;filterTable()" />
            <span id="minScoreVal">0.35</span>
        </div>
        <div class="control-group">
            <label><input type="checkbox" id="enableMinRS" onchange="filterTable()" /> Min Rel Strength</label>
            <input type="range" id="minRS" min="-1" max="1" step="0.05" value="-0.3" oninput="document.getElementById('minRSVal').innerText=this.value;filterTable()" />
            <span id="minRSVal">-0.3</span>
        </div>
    </div>
    
    <div id="screener-wrapper">
    <table id="screener">
        <thead>
            <tr>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Position rank by bearness score"><span class="tooltip">Rank<span class="tooltiptext">Position rank ordered by bearness score (most bearish first)</span></span></th>
                <th data-type="str" onclick="sortTable(this, 'str')" title="Stock symbol"><span class="tooltip">Symbol<span class="tooltiptext">NSE stock symbol/ticker</span></span></th>
                <th data-type="str" onclick="sortTable(this, 'str')" title="Trend direction"><span class="tooltip">Trend<span class="tooltiptext">Overall trend: uptrend, downtrend, or sideways</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Bearness score -1 to +1"><span class="tooltip">Score<span class="tooltiptext">Bearness score: -1 (bullish) to +1 (bearish), 0 (neutral)</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Swing score (1-2 days)"><span class="tooltip">Swing Score<span class="tooltiptext">Swing mode score (35:35:30 weights) for 1-2 day holds</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Longterm score (3-7 days)"><span class="tooltip">LT Score<span class="tooltiptext">Longterm mode score (15:25:60 weights) for multi-day holds</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Signal confidence 0-100%"><span class="tooltip">Conf%<span class="tooltiptext">Confidence in signal (0-100%): higher = more reliable</span></span></th>
                <th data-type="str" onclick="sortTable(this, 'str')" title="Execution state"><span class="tooltip">State<span class="tooltiptext">System state: STAND_DOWN (avoid), OBSERVE (watch), ENGAGE (trade), EXPAND (aggressive)</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Institutional Context Score"><span class="tooltip">Context<span class="tooltiptext">Context score (0-5): 0-1 hostile, 1-2 weak, 2-3 neutral, 3-4 early supportive, 4-5 strong institutional</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Context momentum -1 to +1"><span class="tooltip">Context Momentum<span class="tooltiptext">Context momentum (-1 to +1): rate of change in institutional context</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Robustness score 0-100"><span class="tooltip">Robustness%<span class="tooltiptext">Robustness score (0-100): percentage of 7 safety filters passing</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Robustness momentum -1 to +1"><span class="tooltip">Robust Momentum<span class="tooltiptext">Robustness momentum (-1 to +1): rate of change in filter quality</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Master score 0-100"><span class="tooltip">Master Score<span class="tooltiptext">Master score (0-100): 6-dimension weighted composite (25% conf, 25% tech, 20% robust, 15% context, 10% momentum, 5% news)</span></span></th>
                <th data-type="str" onclick="sortTable(this, 'str')" title="Risk zone status"><span class="tooltip">Risk Zone<span class="tooltiptext">NORMAL: Safe entry | MEDIUM: Caution zone | HIGH: Extreme overbought/oversold</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="News sentiment score -1 to +1"><span class="tooltip">News Sentiment<span class="tooltiptext">News sentiment score (-1: very negative, 0: neutral, +1: very positive)</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Relative strength -1 to +1"><span class="tooltip">Rel Strength<span class="tooltiptext">Relative strength vs market (60% sector peers + 40% Nifty50): -1 lagging, 0 neutral, +1 outperforming</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Option premium quality 0-1"><span class="tooltip">Opt Quality<span class="tooltiptext">Combined option quality score (0-1): Stock (20%) + Theta (45%) + Greeks (35%)</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Current price"><span class="tooltip">Price<span class="tooltiptext">Current closing price in rupees</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Suggested stop loss"><span class="tooltip">Stop Loss<span class="tooltiptext">Suggested stop loss price (2.5× ATR from entry)</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Suggested target"><span class="tooltip">Target<span class="tooltiptext">Suggested profit target (4.5× ATR from entry)</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="52-week high"><span class="tooltip">52W High<span class="tooltiptext">52-week high price</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="52-week low"><span class="tooltip">52W Low<span class="tooltiptext">52-week low price</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Daily % change"><span class="tooltip">Daily%<span class="tooltiptext">Percentage change from yesterday's close</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Weekly % change"><span class="tooltip">Weekly%<span class="tooltiptext">Percentage change from last week's close</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="% below 52-week high"><span class="tooltip">52W High %<span class="tooltiptext">Percentage below 52-week high (pullback magnitude)</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="% above 52-week low"><span class="tooltip">52W Low %<span class="tooltiptext">Percentage above 52-week low (recovery distance)</span></span></th>
                <th data-type="str" onclick="sortTable(this, 'str')" title="Industry sector"><span class="tooltip">Sector<span class="tooltiptext">Industry classification (Banking, IT, Auto, etc.)</span></span></th>
                <th data-type="str" onclick="sortTable(this, 'str')" title="Price pattern"><span class="tooltip">Pattern<span class="tooltiptext">Technical pattern: golden cross, death cross, consolidation, etc.</span></span></th>
                <th data-type="str" onclick="sortTable(this, 'str')" title="Timeframe alignment"><span class="tooltip">TF Align<span class="tooltiptext">Alignment across timeframes (intraday/swing/longterm)</span></span></th>
                <th data-type="str" onclick="sortTable(this, 'str')" title="Trading strategy"><span class="tooltip">Strategy<span class="tooltiptext">Recommended strategy (swing, breakout, mean reversion)</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Opening range score -1 to +1"><span class="tooltip">OR<span class="tooltiptext">Opening range score: price vs first 30min high/low (-1 to +1)</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="VWAP score -1 to +1"><span class="tooltip">VWAP<span class="tooltiptext">Volume-weighted average price score (-1: below, +1: above)</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Price structure score -1 to +1"><span class="tooltip">Structure<span class="tooltiptext">Price structure quality (-1: weak, +1: strong reversal pattern)</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="RSI momentum score"><span class="tooltip">RSI<span class="tooltiptext">Relative Strength Index score (-1 oversold to +1 overbought)</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="EMA trend score -1 to +1"><span class="tooltip">EMA<span class="tooltiptext">Exponential moving average trend score (-1: bearish, +1: bullish)</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Volume score -1 to +1"><span class="tooltip">Vol<span class="tooltiptext">Volume analysis score (-1: low/decreasing, +1: high/increasing)</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="MACD momentum -1 to +1"><span class="tooltip">MACD<span class="tooltiptext">MACD momentum score (-1: bearish divergence, +1: bullish)</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Bollinger Band score -1 to +1"><span class="tooltip">BB<span class="tooltiptext">Bollinger Band score (-1: at lower band, +1: at upper band)</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Average true range"><span class="tooltip">ATR<span class="tooltiptext">Average True Range: volatility measure (stop/target distance)</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Option implied volatility"><span class="tooltip">Opt IV<span class="tooltiptext">Implied volatility (0-1 scale, lower = more stable)</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Option bid-ask spread %"><span class="tooltip">Opt Spread%<span class="tooltiptext">Bid-ask spread % (lower = more liquid)</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Option delta"><span class="tooltip">Opt Delta<span class="tooltiptext">Delta: directional sensitivity (0.5 = ATM, >0.5 = ITM)</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Option gamma"><span class="tooltip">Opt Gamma<span class="tooltiptext">Gamma: rate of delta change (higher = more sensitive)</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Option theta daily decay"><span class="tooltip">Opt Theta<span class="tooltiptext">Theta: daily time decay (negative = cost to buyer)</span></span></th>
                <th data-type="num" onclick="sortTable(this, 'num')" title="Option vega volatility sensitivity"><span class="tooltip">Opt Vega<span class="tooltiptext">Vega: volatility sensitivity (per 1% IV change)</span></span></th>
                <th data-type="str" onclick="sortTable(this, 'str')" title="Next earnings event"><span class="tooltip">Earnings<span class="tooltiptext">Next earnings date and days away. RED=within 3d (high noise). Risk shown: HIGH/MEDIUM/LOW for pre/post earnings impact on signal confidence</span></span></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td><strong>HDFC</strong></td>
                <td><span class="badge trend-strong-bull">Bull Strong</span></td>
                <td class="score" style="background-color: hsl(87.0, 80%, 92%);" data-score="+0.4500"><span style="color: #95a5a6; font-weight: bold;">→</span> +0.4500</td>
                <td class="score" style="background-color: hsl(75.0, 80%, 92%);" data-score="+0.2500">+0.2500</td>
                <td class="score tooltip" style="background-color: hsl(69.0, 80%, 92%);" data-score="+0.1500">+0.1500<span class="tooltiptext">Longterm mode (15:25:60) for 3-7 day holds</span></td>
                <td data-conf="55.0">55</td>
                <td style="text-align: center;"><span style="background-color: #ffc107; color: white; padding: 4px 8px; border-radius: 4px; font-weight: bold; font-size: 0.9em;" title="Mixed signals or neutral context - Watch for clarity" class="tooltip-trigger">OBSERVE<span class="tooltiptext">Mixed signals or neutral context - Watch for clarity</span></span></td>
                <td>2.50</td>
                <td class="score" style="background-color: hsl(60.0, 80%, 92%);" data-score="+0.00">+0.00</td>
                <td class="score" style="color: #e74c3c; font-weight: bold;" data-score="57">57</td>
                <td class="score" style="background-color: hsl(33.0, 80%, 92%);" data-score="-0.45">-0.45</td>
                <td class="score tooltip" style="color: #e67e22; font-weight: bold; font-size: 1.1em;" data-score="62"><span style="cursor: help;">62</span><span class="tooltiptext" style="width: 500px; white-space: pre-wrap;">Master Score: 62.3/100
━━━━━━━━━━━━━━━━━━━━━━
Confidence (Pattern): 55/100 (25% weight)
  Weak pattern (maybe noise)

Technical (Indicators): 45/100 (25% weight)
  Poor indicator alignment

Robustness (Filters): 57.1/100 (20% weight)
  4/7 filters passing (3 filters failed)
  ✓ Market regime ✗ Volume ✗ Time ✗ Liquidity ✓ Earnings ✓ Multi-TF ✓ Expectancy

Context (Institutional): 40/100 (15% weight)
  Hostile institutional context

Momentum (Rate of Change): 17.5/100 (10% weight)
  Strong filter degradation

News Sentiment: 55/100 (5% weight)
  Mixed news sentiment
</span></td>
                <td><span class="risk-low">LOW</span></td>
                <td class="score" style="color: #95a5a6; font-weight: bold;" data-score="-0.3000"><span class="tooltip-trigger" title="News sentiment analysis"><span style="cursor: help;">-0.3000</span><span class="tooltiptext" style="width: 450px; white-space: normal;"><strong>News Sentiment Score</strong><br/><strong>Value: -0.30</strong> (Neutral)<br/><br/><strong>Interpretation:</strong><br/>Negative news (-1 to 0): Can reduce confidence, trigger stop losses, or indicate selling pressure<br/>Neutral news (±0.3): Market may ignore or digest news slowly - uncertainty risk<br/>Positive news (0 to +1): Supports bullish moves, increases conviction, reduces reversals<br/><br/><strong>Action:</strong> Recent extreme sentiment (±0.8+) may indicate overbought/oversold - watch for mean reversion.</span></span></td>
                <td data-score="0.0000" style='color: #95a5a6;'><span class='tooltip-trigger' style='cursor: help;'><strong>○</strong> 0.000<span class='tooltiptext' style='width: 350px; left: -175px; white-space: normal;'>Relative strength (60% vs sector peers + 40% vs Nifty50): Positive = outperforming market, Negative = lagging market.</span></span></td>
                <td>0.0000</td>
                <td data-price="2650.00">2650.00</td>
                <td data-sl="2616.32" style="font-weight: bold; color: #e74c3c;">2616.32</td>
                <td data-target="2718.20" style="font-weight: bold; color: #27ae60;">2718.20</td>
                <td data-score="2650.00" style="font-weight: bold; color: #27ae60;">2650.00</td>
                <td data-score="2650.00" style="font-weight: bold; color: #c0392b;">2650.00</td>
                <td data-score="0.00" style="color: #95a5a6; font-weight: bold;">N/A</td>
                <td data-score="0.00" style="color: #95a5a6; font-weight: bold;">N/A</td>
                <td data-score="0.00" style="font-weight: bold; color: #e67e22;">0.00%</td>
                <td data-score="0.00" style="font-weight: bold; color: #3498db;">0.00%</td>
                <td style="background-color: #f0f0f0; color: #222; font-weight: bold;">Unknown</td>
                <td><span style='color: #95a5a6;'>—</span></td>
                <td><span class="{align_class} tooltip-trigger" title="Only 1 timeframe aligned - Weak signal. Lower probability. -15% R:R penalty.">✓✗✗<span class="tooltiptext" style="width: 300px; bottom: 125%;">Only 1 timeframe aligned - Weak signal. Lower probability. -15% R:R penalty.</span></span></td>
                <td><span class="badge badge-long-call tooltip-trigger" style="font-size: 0.85em; padding: 4px 8px; position: relative; display: inline-block;" title="Buy ATM/ITM Call - Bullish directional play. Max loss: premium paid. Best for rising IV.">Long Call<span class="tooltiptext" style="width: 280px; bottom: 125%; left: 50%; transform: translateX(-50%); white-space: normal;">Buy ATM/ITM Call - Bullish directional play. Max loss: premium paid. Best for rising IV.</span></span></td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td>0.00</td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td>42.10</td>
                <td>0.0000</td>
                <td>0.0000</td>
                <td>+0.0000</td>
                <td>0.000000</td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td><span style='color: #95a5a6;'>No earnings</span></td>
            </tr>
            <tr>
                <td>2</td>
                <td><strong>INFY</strong></td>
                <td><span class="badge trend-strong-bull">Bull Strong</span></td>
                <td class="score" style="background-color: hsl(99.0, 80%, 92%);" data-score="+0.6500"><span style="color: #95a5a6; font-weight: bold;">→</span> +0.6500</td>
                <td class="score" style="background-color: hsl(87.0, 80%, 92%);" data-score="+0.4500">+0.4500</td>
                <td class="score tooltip" style="background-color: hsl(91.2, 80%, 92%);" data-score="+0.5200">+0.5200<span class="tooltiptext">Longterm mode (15:25:60) for 3-7 day holds</span></td>
                <td data-conf="72.0">72</td>
                <td style="text-align: center;"><span style="background-color: #ffc107; color: white; padding: 4px 8px; border-radius: 4px; font-weight: bold; font-size: 0.9em;" title="Mixed signals or neutral context - Watch for clarity" class="tooltip-trigger">OBSERVE<span class="tooltiptext">Mixed signals or neutral context - Watch for clarity</span></span></td>
                <td>2.50</td>
                <td class="score" style="background-color: hsl(60.0, 80%, 92%);" data-score="+0.00">+0.00</td>
                <td class="score" style="color: #f39c12; font-weight: bold;" data-score="71">71</td>
                <td class="score" style="background-color: hsl(46.8, 80%, 92%);" data-score="-0.22">-0.22</td>
                <td class="score tooltip" style="color: #f39c12; font-weight: bold; font-size: 1.1em;" data-score="71"><span style="cursor: help;">71</span><span class="tooltiptext" style="width: 500px; white-space: pre-wrap;">Master Score: 71.4/100
━━━━━━━━━━━━━━━━━━━━━━
Confidence (Pattern): 72/100 (25% weight)
  Moderate pattern confirmation

Technical (Indicators): 65/100 (25% weight)
  Mixed indicator signals

Robustness (Filters): 71.4/100 (20% weight)
  5/7 filters passing (2 filters failed)
  ✓ Market regime ✓ Volume ✗ Time ✓ Liquidity ✗ Earnings ✓ Multi-TF ✓ Expectancy

Context (Institutional): 60/100 (15% weight)
  Weak institutional bias

Momentum (Rate of Change): 42.5/100 (10% weight)
  Filters degrading, caution

News Sentiment: 65/100 (5% weight)
  Slightly negative news
</span></td>
                <td><span class="risk-low">LOW</span></td>
                <td class="score" style="color: #95a5a6; font-weight: bold;" data-score="-0.2000"><span class="tooltip-trigger" title="News sentiment analysis"><span style="cursor: help;">-0.2000</span><span class="tooltiptext" style="width: 450px; white-space: normal;"><strong>News Sentiment Score</strong><br/><strong>Value: -0.20</strong> (Neutral)<br/><br/><strong>Interpretation:</strong><br/>Negative news (-1 to 0): Can reduce confidence, trigger stop losses, or indicate selling pressure<br/>Neutral news (±0.3): Market may ignore or digest news slowly - uncertainty risk<br/>Positive news (0 to +1): Supports bullish moves, increases conviction, reduces reversals<br/><br/><strong>Action:</strong> Recent extreme sentiment (±0.8+) may indicate overbought/oversold - watch for mean reversion.</span></span></td>
                <td data-score="0.0000" style='color: #95a5a6;'><span class='tooltip-trigger' style='cursor: help;'><strong>○</strong> 0.000<span class='tooltiptext' style='width: 350px; left: -175px; white-space: normal;'>Relative strength (60% vs sector peers + 40% vs Nifty50): Positive = outperforming market, Negative = lagging market.</span></span></td>
                <td>0.0000</td>
                <td data-price="1450.00">1450.00</td>
                <td data-sl="1435.20" style="font-weight: bold; color: #e74c3c;">1435.20</td>
                <td data-target="1484.41" style="font-weight: bold; color: #27ae60;">1484.41</td>
                <td data-score="1450.00" style="font-weight: bold; color: #27ae60;">1450.00</td>
                <td data-score="1450.00" style="font-weight: bold; color: #c0392b;">1450.00</td>
                <td data-score="0.00" style="color: #95a5a6; font-weight: bold;">N/A</td>
                <td data-score="0.00" style="color: #95a5a6; font-weight: bold;">N/A</td>
                <td data-score="0.00" style="font-weight: bold; color: #e67e22;">0.00%</td>
                <td data-score="0.00" style="font-weight: bold; color: #3498db;">0.00%</td>
                <td style="background-color: #f0f0f0; color: #222; font-weight: bold;">Unknown</td>
                <td><span style='color: #95a5a6;'>—</span></td>
                <td><span class="{align_class} tooltip-trigger" title="Only 1 timeframe aligned - Weak signal. Lower probability. -15% R:R penalty.">✓✗✗<span class="tooltiptext" style="width: 300px; bottom: 125%;">Only 1 timeframe aligned - Weak signal. Lower probability. -15% R:R penalty.</span></span></td>
                <td><span class="badge badge-call-diagonal tooltip-trigger" style="font-size: 0.85em; padding: 4px 8px; position: relative; display: inline-block;" title="Long longer-dated call, sell shorter call. Low risk, good for trending markets.">Call Diagonal<span class="tooltiptext" style="width: 280px; bottom: 125%; left: 50%; transform: translateX(-50%); white-space: normal;">Long longer-dated call, sell shorter call. Low risk, good for trending markets.</span></span></td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td>0.00</td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td>18.50</td>
                <td>0.0000</td>
                <td>0.0000</td>
                <td>+0.0000</td>
                <td>0.000000</td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td><span style='color: #95a5a6;'>No earnings</span></td>
            </tr>
            <tr>
                <td>3</td>
                <td><strong>TCS</strong></td>
                <td><span class="badge trend-strong-bull">Bull Strong</span></td>
                <td class="score" style="background-color: hsl(102.0, 80%, 92%);" data-score="+0.7000"><span style="color: #95a5a6; font-weight: bold;">→</span> +0.7000</td>
                <td class="score" style="background-color: hsl(99.0, 80%, 92%);" data-score="+0.6500">+0.6500</td>
                <td class="score tooltip" style="background-color: hsl(94.8, 80%, 92%);" data-score="+0.5800">+0.5800<span class="tooltiptext">Longterm mode (15:25:60) for 3-7 day holds</span></td>
                <td data-conf="78.0">78</td>
                <td style="text-align: center;"><span style="background-color: #ffc107; color: white; padding: 4px 8px; border-radius: 4px; font-weight: bold; font-size: 0.9em;" title="Mixed signals or neutral context - Watch for clarity" class="tooltip-trigger">OBSERVE<span class="tooltiptext">Mixed signals or neutral context - Watch for clarity</span></span></td>
                <td>2.50</td>
                <td class="score" style="background-color: hsl(60.0, 80%, 92%);" data-score="+0.00">+0.00</td>
                <td class="score" style="color: #27ae60; font-weight: bold;" data-score="86">86</td>
                <td class="score" style="background-color: hsl(73.2, 80%, 92%);" data-score="+0.22">+0.22</td>
                <td class="score tooltip" style="color: #f39c12; font-weight: bold; font-size: 1.1em;" data-score="80"><span style="cursor: help;">80</span><span class="tooltiptext" style="width: 500px; white-space: pre-wrap;">Master Score: 79.5/100
━━━━━━━━━━━━━━━━━━━━━━
Confidence (Pattern): 78/100 (25% weight)
  Reliable pullback pattern

Technical (Indicators): 70/100 (25% weight)
  Good indicator alignment

Robustness (Filters): 85.7/100 (20% weight)
  6/7 filters passing (1 filter failed)
  ✓ Market regime ✓ Volume ✓ Time ✓ Liquidity ✗ Earnings ✓ Multi-TF ✓ Expectancy

Context (Institutional): 76/100 (15% weight)
  Mixed institutional signals

Momentum (Rate of Change): 68/100 (10% weight)
  Slight filter degradation

News Sentiment: 72/100 (5% weight)
  Neutral news
</span></td>
                <td><span class="risk-low">LOW</span></td>
                <td class="score" style="color: #95a5a6; font-weight: bold;" data-score="+0.0000"><span class="tooltip-trigger" title="News sentiment analysis"><span style="cursor: help;">+0.0000</span><span class="tooltiptext" style="width: 450px; white-space: normal;"><strong>News Sentiment Score</strong><br/><strong>Value: +0.00</strong> (Neutral)<br/><br/><strong>Interpretation:</strong><br/>Negative news (-1 to 0): Can reduce confidence, trigger stop losses, or indicate selling pressure<br/>Neutral news (±0.3): Market may ignore or digest news slowly - uncertainty risk<br/>Positive news (0 to +1): Supports bullish moves, increases conviction, reduces reversals<br/><br/><strong>Action:</strong> Recent extreme sentiment (±0.8+) may indicate overbought/oversold - watch for mean reversion.</span></span></td>
                <td data-score="0.0000" style='color: #95a5a6;'><span class='tooltip-trigger' style='cursor: help;'><strong>○</strong> 0.000<span class='tooltiptext' style='width: 350px; left: -175px; white-space: normal;'>Relative strength (60% vs sector peers + 40% vs Nifty50): Positive = outperforming market, Negative = lagging market.</span></span></td>
                <td>0.0000</td>
                <td data-price="3850.00">3850.00</td>
                <td data-sl="3814.80" style="font-weight: bold; color: #e74c3c;">3814.80</td>
                <td data-target="3959.12" style="font-weight: bold; color: #27ae60;">3959.12</td>
                <td data-score="3850.00" style="font-weight: bold; color: #27ae60;">3850.00</td>
                <td data-score="3850.00" style="font-weight: bold; color: #c0392b;">3850.00</td>
                <td data-score="0.00" style="color: #95a5a6; font-weight: bold;">N/A</td>
                <td data-score="0.00" style="color: #95a5a6; font-weight: bold;">N/A</td>
                <td data-score="0.00" style="font-weight: bold; color: #e67e22;">0.00%</td>
                <td data-score="0.00" style="font-weight: bold; color: #3498db;">0.00%</td>
                <td style="background-color: #f0f0f0; color: #222; font-weight: bold;">Unknown</td>
                <td><span style='color: #95a5a6;'>—</span></td>
                <td><span class="{align_class} tooltip-trigger" title="Only 1 timeframe aligned - Weak signal. Lower probability. -15% R:R penalty.">✓✗✗<span class="tooltiptext" style="width: 300px; bottom: 125%;">Only 1 timeframe aligned - Weak signal. Lower probability. -15% R:R penalty.</span></span></td>
                <td><span class="badge badge-call-diagonal tooltip-trigger" style="font-size: 0.85em; padding: 4px 8px; position: relative; display: inline-block;" title="Long longer-dated call, sell shorter call. Low risk, good for trending markets.">Call Diagonal<span class="tooltiptext" style="width: 280px; bottom: 125%; left: 50%; transform: translateX(-50%); white-space: normal;">Long longer-dated call, sell shorter call. Low risk, good for trending markets.</span></span></td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td>0.00</td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td>35.20</td>
                <td>0.0000</td>
                <td>0.0000</td>
                <td>+0.0000</td>
                <td>0.000000</td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td><span style='color: #95a5a6;'>No earnings</span></td>
            </tr>
            <tr>
                <td>4</td>
                <td><strong>RELIANCE</strong></td>
                <td><span class="badge trend-strong-bull">Bull Strong</span></td>
                <td class="score" style="background-color: hsl(109.19999999999999, 80%, 92%);" data-score="+0.8200"><span style="color: #95a5a6; font-weight: bold;">→</span> +0.8200</td>
                <td class="score" style="background-color: hsl(105.0, 80%, 92%);" data-score="+0.7500">+0.7500</td>
                <td class="score tooltip" style="background-color: hsl(99.0, 80%, 92%);" data-score="+0.6500">+0.6500<span class="tooltiptext">Longterm mode (15:25:60) for 3-7 day holds</span></td>
                <td data-conf="90.0">90</td>
                <td style="text-align: center;"><span style="background-color: #ffc107; color: white; padding: 4px 8px; border-radius: 4px; font-weight: bold; font-size: 0.9em;" title="Mixed signals or neutral context - Watch for clarity" class="tooltip-trigger">OBSERVE<span class="tooltiptext">Mixed signals or neutral context - Watch for clarity</span></span></td>
                <td>2.50</td>
                <td class="score" style="background-color: hsl(60.0, 80%, 92%);" data-score="+0.00">+0.00</td>
                <td class="score" style="color: #27ae60; font-weight: bold;" data-score="100">100</td>
                <td class="score" style="background-color: hsl(79.2, 80%, 92%);" data-score="+0.32">+0.32</td>
                <td class="score tooltip" style="color: #27ae60; font-weight: bold; font-size: 1.1em;" data-score="88"><span style="cursor: help;">88</span><span class="tooltiptext" style="width: 500px; white-space: pre-wrap;">Master Score: 88.0/100
━━━━━━━━━━━━━━━━━━━━━━
Confidence (Pattern): 90/100 (25% weight)
  Quality of pattern detection

Technical (Indicators): 82/100 (25% weight)
  Composite of RSI, VWAP, EMA, MACD, BB

Robustness (Filters): 100/100 (20% weight)
  7/7 safety filters passing
  ✓ Market regime, ✓ Volume, ✓ Time-of-day, ✓ Liquidity, ✓ Earnings safety, ✓ Multi-TF, ✓ Expectancy

Context (Institutional): 84/100 (15% weight)
  Institutional flows & Vol-RSI alignment

Momentum (Rate of Change): 82.5/100 (10% weight)
  Context improving, filters stable

News Sentiment: 70/100 (5% weight)
  Neutral to slightly positive
</span></td>
                <td><span class="risk-low">LOW</span></td>
                <td class="score" style="color: #27ae60; font-weight: bold;" data-score="+0.4000"><span class="tooltip-trigger" title="News sentiment analysis"><span style="cursor: help;">+0.4000</span><span class="tooltiptext" style="width: 450px; white-space: normal;"><strong>News Sentiment Score</strong><br/><strong>Value: +0.40</strong> (Positive)<br/><br/><strong>Interpretation:</strong><br/>Negative news (-1 to 0): Can reduce confidence, trigger stop losses, or indicate selling pressure<br/>Neutral news (±0.3): Market may ignore or digest news slowly - uncertainty risk<br/>Positive news (0 to +1): Supports bullish moves, increases conviction, reduces reversals<br/><br/><strong>Action:</strong> Recent extreme sentiment (±0.8+) may indicate overbought/oversold - watch for mean reversion.</span></span></td>
                <td data-score="0.0000" style='color: #95a5a6;'><span class='tooltip-trigger' style='cursor: help;'><strong>○</strong> 0.000<span class='tooltiptext' style='width: 350px; left: -175px; white-space: normal;'>Relative strength (60% vs sector peers + 40% vs Nifty50): Positive = outperforming market, Negative = lagging market.</span></span></td>
                <td>0.0000</td>
                <td data-price="2850.00">2850.00</td>
                <td data-sl="2815.80" style="font-weight: bold; color: #e74c3c;">2815.80</td>
                <td data-target="2956.02" style="font-weight: bold; color: #27ae60;">2956.02</td>
                <td data-score="2850.00" style="font-weight: bold; color: #27ae60;">2850.00</td>
                <td data-score="2850.00" style="font-weight: bold; color: #c0392b;">2850.00</td>
                <td data-score="0.00" style="color: #95a5a6; font-weight: bold;">N/A</td>
                <td data-score="0.00" style="color: #95a5a6; font-weight: bold;">N/A</td>
                <td data-score="0.00" style="font-weight: bold; color: #e67e22;">0.00%</td>
                <td data-score="0.00" style="font-weight: bold; color: #3498db;">0.00%</td>
                <td style="background-color: #f0f0f0; color: #222; font-weight: bold;">Unknown</td>
                <td><span style='color: #95a5a6;'>—</span></td>
                <td><span class="{align_class} tooltip-trigger" title="Only 1 timeframe aligned - Weak signal. Lower probability. -15% R:R penalty.">✓✗✗<span class="tooltiptext" style="width: 300px; bottom: 125%;">Only 1 timeframe aligned - Weak signal. Lower probability. -15% R:R penalty.</span></span></td>
                <td><span class="badge badge-call-diagonal tooltip-trigger" style="font-size: 0.85em; padding: 4px 8px; position: relative; display: inline-block;" title="Long longer-dated call, sell shorter call. Low risk, good for trending markets.">Call Diagonal<span class="tooltiptext" style="width: 280px; bottom: 125%; left: 50%; transform: translateX(-50%); white-space: normal;">Long longer-dated call, sell shorter call. Low risk, good for trending markets.</span></span></td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td>0.00</td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td>28.50</td>
                <td>0.0000</td>
                <td>0.0000</td>
                <td>+0.0000</td>
                <td>0.000000</td>
                <td>+0.0000</td>
                <td>+0.0000</td>
                <td><span style='color: #95a5a6;'>No earnings</span></td>
            </tr>
        </tbody>
    </table>
    </div>
    
    <!-- SIGNAL INTELLIGENCE DASHBOARD -->
    <div class="dashboard">
        <h3>Signal Intelligence</h3>
        <p class="info" style="color: #718096; font-size: 13px; margin: 8px 0;">
            <strong>📊 Understanding Your Signals:</strong> 
            The 3-Pillar system breaks confidence into: Signal Agreement (do indicators align?), Momentum (EMA/RSI conviction), Volume (does volume support the move?). 
            Early signals show when institutions enter before retail. Timeframe alignment confirms trending moves.
        </p>
    <div style="background: #f0f4ff; padding: 16px; border-radius: 6px; text-align: center; color: #4a5568; margin: 16px 0;"><strong>💭 Tip:</strong> No stocks currently show 4+ signals agreeing. This is a strict filter showing only highest-consensus setups.</div></div>
    <!-- PREMIUM SELLING STRATEGIES -->
    <div class="dashboard">
        <h3>Premium Selling Strategies</h3>
        <p class="info" style="color: #718096; font-size: 13px; margin: 8px 0;">
            <strong>💵 Income Generation Playbook:</strong> 
            Strategies ranked by Greeks quality & IV environment. <strong>High IV (>40%)</strong> = Sell premium strategies (spreads, strangles, iron condors). 
            <strong>Theta positive</strong> = time decay in your favor. <strong>Low gamma</strong> = stable positions. <strong>Spread < 3%</strong> = good liquidity.
        </p>
    <div style="background: #fff3cd; padding: 16px; border-radius: 6px; text-align: center; color: #856404; margin: 16px 0; border-left: 4px solid #ffc107;"><strong>⏸️ No Ideal Setups Right Now:</strong> All stocks are in "WAIT" mode. Market conditions not favorable for aggressive premium selling. Monitor for better IV/Gamma conditions.</div></div>
    <!-- DASHBOARD SECTIONS (AFTER SCREENER TABLE) -->
    <div class="dashboard">
        <!-- KEY METRICS & MARKET SUMMARY -->
        <h3>Market Intelligence Summary</h3>
    
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 14px; margin: 16px 0;">
            <!-- Market Sentiment -->
            <div style="background: linear-gradient(135deg, #11998e22 0%, transparent 100%); padding: 16px; border-radius: 8px; border-left: 4px solid #11998e;">
                <div style="font-size: 11px; color: #718096; font-weight: 500; text-transform: uppercase; margin-bottom: 4px;">Overall Bias</div>
                <div style="font-size: 24px; font-weight: 700; color: #11998e; margin-bottom: 2px;">📈 BULLISH</div>
                <div style="font-size: 12px; color: #4a5568;">Avg Score: +0.655</div>
            </div>
            
            <!-- Confidence Level -->
            <div style="background: linear-gradient(135deg, #27ae6022 0%, transparent 100%); padding: 16px; border-radius: 8px; border-left: 4px solid #27ae60;">
                <div style="font-size: 11px; color: #718096; font-weight: 500; text-transform: uppercase; margin-bottom: 4px;">Signal Quality</div>
                <div style="font-size: 24px; font-weight: 700; color: #27ae60; margin-bottom: 2px;">74%</div>
                <div style="font-size: 12px; color: #4a5568;">HIGH CONFIDENCE</div>
            </div>
            
            <!-- IV Regime -->
            <div style="background: linear-gradient(135deg, #3498db22 0%, transparent 100%); padding: 16px; border-radius: 8px; border-left: 4px solid #3498db;">
                <div style="font-size: 11px; color: #718096; font-weight: 500; text-transform: uppercase; margin-bottom: 4px;">Option Regime</div>
                <div style="font-size: 14px; font-weight: 700; color: #3498db; margin-bottom: 2px;">0.0% IV</div>
                <div style="font-size: 11px; color: #4a5568;">DIRECTIONAL BUYING FAVORABLE</div>
            </div>
            
            <!-- Setup Distribution -->
            <div style="background: linear-gradient(135deg, #667eea22 0%, transparent 100%); padding: 16px; border-radius: 8px; border-left: 4px solid #667eea;">
                <div style="font-size: 11px; color: #718096; font-weight: 500; text-transform: uppercase; margin-bottom: 8px;">Setup Distribution</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px;">
                    <div style="text-align: center;">
                        <div style="font-size: 16px; font-weight: 700; color: #11998e;">🟢 4</div>
                        <div style="font-size: 10px; color: #718096;">Bullish</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 16px; font-weight: 700; color: #e74c3c;">🔴 0</div>
                        <div style="font-size: 10px; color: #718096;">Bearish</div>
                    </div>
                </div>
            </div>
            
            <!-- High Conviction Setups -->
            <div style="background: linear-gradient(135deg, #9f7aea22 0%, transparent 100%); padding: 16px; border-radius: 8px; border-left: 4px solid #9f7aea;">
                <div style="font-size: 11px; color: #718096; font-weight: 500; text-transform: uppercase; margin-bottom: 4px;">High Conviction</div>
                <div style="font-size: 24px; font-weight: 700; color: #9f7aea; margin-bottom: 2px;">3</div>
                <div style="font-size: 12px; color: #4a5568;">Confidence >= 70%</div>
            </div>
            
            <!-- Liquidity Index -->
            <div style="background: linear-gradient(135deg, #4299e122 0%, transparent 100%); padding: 16px; border-radius: 8px; border-left: 4px solid #4299e1;">
                <div style="font-size: 11px; color: #718096; font-weight: 500; text-transform: uppercase; margin-bottom: 4px;">Total Watchlist</div>
                <div style="font-size: 24px; font-weight: 700; color: #4299e1; margin-bottom: 2px;">4</div>
                <div style="font-size: 12px; color: #4a5568;">Stocks analyzed</div>
            </div>
        </div>
        
        <!-- ACTION RECOMMENDATIONS -->
        <div style="background: linear-gradient(135deg, #f6ad5522 0%, transparent 100%); padding: 16px; border-radius: 8px; margin: 16px 0; border-left: 4px solid #f39c12;">
            <div style="font-size: 12px; color: #d35400; font-weight: 600; text-transform: uppercase; margin-bottom: 8px;">⚡ Trading Recommendations</div>
            <ul style="margin: 0; padding-left: 20px; color: #4a5568; font-size: 12px; line-height: 1.6;">
                <li>
                    <strong>Market Bias:</strong> 
                    Strong bullish momentum - favor long positions and bull spreads
                </li>
                <li>
                    <strong>Signal Quality:</strong>
                    Excellent - high conviction setups, follow recommendations closely
                </li>
                <li>
                    <strong>Options Strategy:</strong>
                    Low IV favors buying directional options
                </li>
            </ul>
        </div>
    
    
    <!-- TOP PICKS SECTION -->
    <h3>Top Picks at a Glance</h3>
    <div class="top-picks-container">
    <div class="picks-card bearish"><h4>📉 Top Bearish</h4><div class="pick-item" style="color: #a0aec0;">No bearish picks</div></div><div class="picks-card bullish"><h4>📈 Top Bullish</h4><div class="pick-item">
                <span class="pick-symbol">HDFC</span>
                <span class="pick-score bull">+0.450</span>
                <span class="pick-details">55% | ₹2,650</span>
            </div><div class="pick-item">
                <span class="pick-symbol">INFY</span>
                <span class="pick-score bull">+0.650</span>
                <span class="pick-details">72% | ₹1,450</span>
            </div><div class="pick-item">
                <span class="pick-symbol">TCS</span>
                <span class="pick-score bull">+0.700</span>
                <span class="pick-details">78% | ₹3,850</span>
            </div></div></div><h3>Sectoral Heat Map</h3><div class="sector-heatmap"><div class="sector-card" style="background: #f0f0f0; color: #222;">
            <div class="sector-name">Unknown</div>
            <div class="sector-score">+0.655</div>
            <div class="sector-count">4 stocks | Bullish</div>
        </div></div></div>    <script>
let lastSort = {col: null, asc: true};

function sortTable(th, type) {
    const table = document.getElementById("screener");
    const tbody = table.tBodies[0];
    const rows = Array.from(tbody.rows);
    const idx = Array.from(th.parentNode.children).indexOf(th);
    const asc = !(lastSort.col === idx && lastSort.asc);
    
    rows.sort((a, b) => {
        let cellA = a.cells[idx];
        let cellB = b.cells[idx];
        
        let va = cellA.getAttribute("data-score") || cellA.getAttribute("data-conf") || cellA.getAttribute("data-price") || cellA.innerText.trim();
        let vb = cellB.getAttribute("data-score") || cellB.getAttribute("data-conf") || cellB.getAttribute("data-price") || cellB.innerText.trim();
        
        if (type === "num") {
            va = parseFloat(va) || 0;
            vb = parseFloat(vb) || 0;
        } else {
            va = va.toLowerCase();
            vb = vb.toLowerCase();
        }
        
        if (va < vb) return asc ? -1 : 1;
        if (va > vb) return asc ? 1 : -1;
        return 0;
    });
    
    rows.forEach(r => tbody.appendChild(r));
    
    document.querySelectorAll('th').forEach(h => h.classList.remove('sort-asc', 'sort-desc'));
    if (asc) th.classList.add('sort-asc');
    else th.classList.add('sort-desc');
    
    lastSort = {col: idx, asc: asc};
}

function filterTable() {
    const v = document.getElementById("search").value.toLowerCase();
    const rows = document.getElementById("screener").tBodies[0].rows;
    const enableConf = document.getElementById("enableMinConf").checked;
    const minConf = parseFloat(document.getElementById("minConf").value) || 0;
    const enableScore = document.getElementById("enableMinScore").checked;
    const minScore = parseFloat(document.getElementById("minScore").value) || 0;
    const enableRS = document.getElementById("enableMinRS").checked;
    const minRS = parseFloat(document.getElementById("minRS").value) || -1;
    const sectorSel = document.getElementById("sectorFilter").value.toLowerCase();
    
    for (let i = 0; i < rows.length; i++) {
        const r = rows[i];
        const textMatch = r.innerText.toLowerCase().includes(v);
        
        let confVal = 0;
        let scoreVal = 0;
        let rsVal = 0;
        // Column positions: 0 Rank, 1 Symbol, 2 Trend, 3 Score, 4 Swing Score, 5 LT Score, 6 Conf%, 7 State, 8 Context, 9 Context Mom, 10 Risk Zone, 11 News Sentiment, 12 Rel Strength, 13 Opt Quality, 14 Price, 15 Stop Loss, 16 Target, 17-22 Price data, 23 Sector, 24 Pattern, 25 TF Align, 26 Strategy, 27+ Technical indicators
        if (r.cells[6]) {
            const confText = r.cells[6].getAttribute("data-conf") || r.cells[6].innerText.trim();
            confVal = parseFloat(confText) || 0;
        }
        if (r.cells[3]) {
            const scoreText = r.cells[3].getAttribute("data-score") || r.cells[3].innerText.trim();
            scoreVal = Math.abs(parseFloat(scoreText)) || 0;
        }
        if (r.cells[12]) {
            const rsText = r.cells[12].getAttribute("data-score") || r.cells[12].innerText.trim();
            rsVal = parseFloat(rsText) || 0;
        }
        
        const sectorCell = r.cells[23] ? (r.cells[23].innerText || "").toLowerCase() : "";
        const sectorMatch = (sectorSel === "all") || (sectorCell === sectorSel);
        const confMatch = (!enableConf) || (confVal >= minConf);
        const scoreMatch = (!enableScore) || (scoreVal >= minScore);
        const rsMatch = (!enableRS) || (rsVal >= minRS);
        r.style.display = (textMatch && sectorMatch && confMatch && scoreMatch && rsMatch) ? "" : "none";
    }
}

// Populate sector dropdown from table rows
function populateSectors() {
    const rows = document.getElementById("screener").tBodies[0].rows;
    const sectors = new Set();
    for (let i = 0; i < rows.length; i++) {
        const cell = rows[i].cells[23];
        if (cell) {
            const sec = (cell.innerText || "").trim();
            if (sec) sectors.add(sec);
        }
    }
    const select = document.getElementById("sectorFilter");
    const existing = new Set();
    // Keep "All" default
    for (let i = select.options.length - 1; i >= 0; i--) {
        existing.add(select.options[i].value);
    }
    Array.from(sectors).sort().forEach(sec => {
        const val = sec;
        if (!existing.has(val)) {
            const opt = document.createElement("option");
            opt.value = val;
            opt.text = sec;
            select.appendChild(opt);
        }
    });
}

document.addEventListener("DOMContentLoaded", () => {
    populateSectors();
    filterTable();
});
    </script>
</body>
</html>
